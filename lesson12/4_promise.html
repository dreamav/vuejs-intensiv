<!doctype html>
<html lang="ru">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Promise</title>
    </head>
    <body>
        <script>
			userReg().then((res) => {
					console.log(res);
					return userAuth(); // new Promise
				}).then((res) => {
					console.log(res);
					return getUserData()
				}).then((res) => {
					console.log(res);
				}).catch((err)=>{
					console.log(err);
				})

			function userReg(){
				return new Promise(function(resolve,reject){
					setTimeout(function(){
						if(Math.random() > 0.6){
							resolve("+ registration");
						}
						else{
							reject("- registration");
						}
					}, 500);
				});
			}

			function userAuth(){
				return new Promise(function(resolve,reject){
					setTimeout(function(){
						if(Math.random() > 0.6){
							resolve("+ auth");
						}
						else{
							reject("- auth");
						}
					}, 500);
				});
			}

			function getUserData(){
				return new Promise(function(resolve,reject){
					setTimeout(function(){
						if(Math.random() > 0.2){
							resolve("+ data");
						}
						else{
							reject("- data");
						}
					}, 500);
				});
			}

		</script>
    </body>
</html>
